# 地理可视化相关库

## pandas

1. 包定义：数据处理包

   ```python
   import pandas as pd
   ```

2. 工作函数：输入、处理、输出

## geopandas

1. 包定义：矢量文件处理

   ```python
   import geopandas as gpd
   ```

2. 工作函数：输入、处理、输出
   1. 输入

      ```python
      df = gpd.read_file(path)
      ```

   2. 处理
      1. geopandas方法

         ```python
         gpd.merge()    #连接：按字段连接
         gpd.overlay()  #裁剪
         gpd.sjoin()    #赋值：按空间属性赋值
         ```

      2. pandas方法

         ```python
         df1 = df[cond]               #筛选：按条件筛选
         df[v2] = df[v1].apply(func)  #运算：生成新字段
         df.sum()                     #特征：mean/sum/min/max
         ```

   3. 输出

      ```python
      df.plot(ax=ax,column=label,legend=True)  #出图
      df.head()                                #出表
      df.to_file(path)                         #保存
      ```

## [matplotlib](实例/MatplotlibExample.ipynb)

1. 包定义：python 2D绘图库

   ```python
   import matplotlib.pyplot as plt
   %matplotlib widget #可控小组件
   ```

2. 图片构成：figure→axes→olot
   1. 单图多线

      ```python
      # 核心参数
      plt.plot(
         xlst,ylst,  #str/int/float-list数据
         fmt,        #颜色
         data,       #分类label
         **kwargs    #设置变量
      )
      plt.bar(**plot2)
      plt.scatter(**plot3)
      plt.errorbar(**plot4)

      # 内部修饰
      plt.text(x,y,'$\mu$ text')
      plt.grid(True)
      plt.yscale('scale') #包括linear/log/symlog/logit

      # 外部框架
      plt.axis([xmin,xmax,ymin,ymax])
      plt.ylabel("ylabel")
      plt.set_title("title")
      plt.show()
      ```

   2. 多图多线

      ```python
      # 一一指定
      fig = plt.figure()
      
      plt.subplot(2,1,1)
      plt.plot(**ax1)
      
      plt.subplot(2,1,2)
      plt.plot(**ax2)
      ```

      ```python
      # 初始划定
      fig,axes = plt.subplots(2,1,1)
      plt.plot(ax=axes[x-1,y-1])
      ```

      ![20230405225925](https://raw.githubusercontent.com/dsw676676/picture/main/image/20230405225925.png)
